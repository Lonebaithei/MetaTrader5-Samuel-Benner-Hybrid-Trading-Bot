# ═══════════════════════════════════════════════════════════════════════════
# BENNER TRADING BOT v4.1 - ENHANCED CONFIGURATION
# Risk Management & Trading Session Optimization
# ═══════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────
# 1. MT5 CONNECTION SETTINGS
# ─────────────────────────────────────────────────────────────────────────

MT5_LOGIN=5987063
MT5_PASSWORD=your_password_here
MT5_SERVER=Deriv-Demo

# Run mode: True for testing, False for live trading
DRY_RUN=True

# ─────────────────────────────────────────────────────────────────────────
# 2. CRITICAL RISK MANAGEMENT: DRAWDOWN KILL SWITCH
# ─────────────────────────────────────────────────────────────────────────

# Maximum daily drawdown percentage before bot stops opening new positions
# If equity drops below this percentage of account balance, kill switch activates
# Values: 5-50 (represents percentage, e.g., 30 = 30% drawdown limit)
MAX_DAILY_DRAWDOWN_PERCENT=30

# Maximum intraday drawdown percentage (prevents catastrophic losses)
# More aggressive than daily limit, triggers faster
# Recommended: Set 5-10% lower than MAX_DAILY_DRAWDOWN_PERCENT
MAX_INTRADAY_DRAWDOWN_PERCENT=20

# Kill switch mode when drawdown limits hit:
# "STOP_OPENING" = Stop opening new positions but manage existing ones
# "PAUSE_TRADING" = Pause all trading (recommended for safety)
# "EMERGENCY_CLOSE" = Close all positions immediately (use with caution)
KILL_SWITCH_MODE=STOP_OPENING

# Reset drawdown counter at this time (format: HH:MM, 24-hour)
# Example: "00:00" = reset at midnight, "09:30" = reset at 9:30 AM
DRAWDOWN_RESET_TIME=00:00

# ─────────────────────────────────────────────────────────────────────────
# 3. TRADING SYMBOLS CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────

# Mean Reversion symbols (comma-separated, no spaces)
MEAN_REVERSION_SYMBOLS=EURUSD,USDJPY,AUDUSD,XAUUSD,GBPUSD

# Momentum symbols
MOMENTUM_SYMBOLS=EURUSD,XAUUSD,BTCUSD

# Defensive symbols
DEFENSIVE_SYMBOLS=XAUUSD,USDCHF,GOLD

# Maximum number of simultaneously open positions across all symbols
# CRITICAL: Prevents over-trading. Recommended: 3-10 based on account size
MAX_CONCURRENT_POSITIONS=5

# Maximum positions per single symbol
# Prevents concentration risk on one instrument
MAX_POSITIONS_PER_SYMBOL=2

# ─────────────────────────────────────────────────────────────────────────
# 4. TRADING SESSION MANAGEMENT (NEW IN v4.1)
# ─────────────────────────────────────────────────────────────────────────

# Enable trading session restrictions
# If True: Bot only trades during specified session hours
# If False: Bot trades 24/7 (not recommended without session awareness)
ENABLE_TRADING_SESSIONS=True

# ─── FOREX MAJOR SESSIONS ───
# Format: HH:MM-HH:MM in UTC (24-hour format)
# Leave blank to disable session

# Asian Session (Tokyo Open) - Most active for JPY pairs, AUDUSD, NZDUSD
FOREX_ASIA_SESSION_START=22:00
FOREX_ASIA_SESSION_END=08:00

# European Session (London Open) - Most active for GBPUSD, EURUSD
FOREX_EUROPE_SESSION_START=08:00
FOREX_EUROPE_SESSION_END=17:00

# American Session (New York Open) - Most active for all pairs
FOREX_AMERICA_SESSION_START=13:00
FOREX_AMERICA_SESSION_END=22:00

# ─── COMMODITY SESSIONS ───

# Gold (XAUUSD) Trading Hours
# Note: Gold trades almost 24/5, very liquid during forex sessions
COMMODITY_GOLD_SESSION_START=00:00
COMMODITY_GOLD_SESSION_END=23:59

# Silver Trading Hours
COMMODITY_SILVER_SESSION_START=01:00
COMMODITY_SILVER_SESSION_END=22:00

# ─── CRYPTO SESSIONS (NEW) ───

# Bitcoin/Crypto trading: 24/7 most days, but check market hours
# Use this to prevent trading during low liquidity periods
CRYPTO_SESSION_START=00:00
CRYPTO_SESSION_END=23:59

# Enable crypto weekend trading (crypto is 24/7, but volume differs)
# If False: Don't trade crypto on weekends (lower volatility)
# If True: Trade crypto all week including weekends
CRYPTO_TRADE_WEEKENDS=True

# ─── MARKET HOURS DETECTION (AUTOMATIC) ───

# Enable automatic market hours detection via broker API
# Bot queries MetaTrader 5 to check if symbols are actively trading
# This is MORE RELIABLE than manual session times
ENABLE_AUTO_MARKET_HOURS_DETECTION=True

# How often to check market hours (in minutes)
MARKET_HOURS_CHECK_INTERVAL=60

# Use bid-ask spread as liquidity indicator
# If spread is too wide, symbol is not liquid (not in active session)
# Min spread in pips - if actual spread > this, consider market closed
LIQUIDITY_MIN_SPREAD_THRESHOLD=2

# ─────────────────────────────────────────────────────────────────────────
# 5. MULTI-TIMEFRAME CONFIGURATION (in minutes)
# ─────────────────────────────────────────────────────────────────────────

# Entry signal timeframe (1=M1, 5=M5, 15=M15, 60=H1, 240=H4, 1440=D1)
TIMEFRAME_ENTRY=5

# Intermediate trend confirmation timeframe
TIMEFRAME_INTERMEDIATE=60

# Macro trend timeframe
TIMEFRAME_MACRO=240

# Update interval in seconds (how often to check signals)
UPDATE_INTERVAL=60

# ─────────────────────────────────────────────────────────────────────────
# 6. POSITION SIZING & LOT CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────

# Risk per trade as percentage of account (e.g., 0.02 = 2%)
RISK_PER_TRADE_PERCENT=0.02

# Minimum lot size (based on your broker)
MIN_LOT_SIZE=0.01

# Maximum lot size (protects against excessive position sizing)
MAX_LOT_SIZE=1.0

# Use fixed lot size instead of risk-based calculation
# If False: Uses risk-based position sizing (recommended)
# If True: Uses FIXED_LOT_SIZE value below
USE_FIXED_LOT_SIZE=False

# Fixed lot size (only used if USE_FIXED_LOT_SIZE=True)
FIXED_LOT_SIZE=0.1

# ─────────────────────────────────────────────────────────────────────────
# 7. RSI SETTINGS
# ─────────────────────────────────────────────────────────────────────────

# RSI Period for analysis
RSI_PERIOD=14

# Overbought threshold (RSI > this value = potential SELL signal)
RSI_OVERBOUGHT=70

# Oversold threshold (RSI < this value = potential BUY signal)
RSI_OVERSOLD=30

# ─────────────────────────────────────────────────────────────────────────
# 8. BOLLINGER BANDS SETTINGS
# ─────────────────────────────────────────────────────────────────────────

# Period for Bollinger Bands
BB_PERIOD=20

# Standard deviation multiplier
BB_STDDEV=2.0

# ─────────────────────────────────────────────────────────────────────────
# 9. TAKE PROFIT & STOP LOSS (in pips)
# ─────────────────────────────────────────────────────────────────────────

# Tier 1: Extreme oversold/overbought
TP_TIER1=30
SL_TIER1=20

# Tier 2: Strong oversold/overbought
TP_TIER2=50
SL_TIER2=30

# Tier 3: Moderate oversold/overbought
TP_TIER3=80
SL_TIER3=50

# ─────────────────────────────────────────────────────────────────────────
# 10. LOGGING & MONITORING
# ─────────────────────────────────────────────────────────────────────────

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Log file location
LOG_FILE=benner_bot_v4.1.log

# Enable drawdown monitoring alerts
# If True: Logs alerts when approaching drawdown limits
ENABLE_DRAWDOWN_ALERTS=True

# ─────────────────────────────────────────────────────────────────────────
# 11. ADVANCED SETTINGS
# ─────────────────────────────────────────────────────────────────────────

# Slippage tolerance in pips (acceptable difference between quoted and executed price)
SLIPPAGE_TOLERANCE=2

# Maximum retries for failed API calls
MAX_API_RETRIES=3

# Retry delay in seconds
RETRY_DELAY=5

# Enable multi-timeframe confirmation
# If True: Requires signals from all timeframes before entering
# If False: Enter on entry timeframe signal only
REQUIRE_MULTI_TF_CONFIRMATION=True
